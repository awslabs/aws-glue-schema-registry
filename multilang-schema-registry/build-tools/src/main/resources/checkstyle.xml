<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
        "-//Puppy Crawl//DTD Check Configuration 1.3//EN"
        "http://www.puppycrawl.com/dtds/configuration_1_3.dtd">
<!--
/*
 * Copyright 2019 Amazon.com, Inc. or its affiliates.
 * Licensed under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
  -->
<module name="Checker">

    <!-- [Miscellaneous] -->
    <module name="Translation">
        <property name="severity" value="error"/>
        <property name="fileExtensions" value="properties"/>
        <property name="baseName" value="^messages.*$"/>
    </module>

    <!-- [Regexp] -->
    <module name="RegexpSingleline">
        <property name="severity" value="error"/>
        <property name="format" value="\s+$"/>
        <property name="message" value="Line has trailing spaces."/>
    </module>

    <!-- [Size Violations] -->
    <module name="FileLength">
        <property name="severity" value="info"/>
        <property name="max" value="300"/>
    </module>

    <!-- [Filters] -->
    <module name="SuppressionFilter">
        <property name="file" value="${checkstyle.suppression.filter}" default="suppressions.xml"/>
        <property name="optional" value="false"/>
    </module>

    <module name="SuppressWarningsFilter"/>

    <module name="TreeWalker">
        <property name="tabWidth" value="4"/>

        <module name="SuppressWarningsHolder"/>

        <!-- [Block Checks] -->
        <module name="EmptyBlock">
            <property name="severity" value="error"/>
            <property name="option" value="text"/>
        </module>
        <module name="LeftCurly">
            <property name="severity" value="error"/>
            <property name="option" value="eol"/>
        </module>
        <module name="NeedBraces">
            <property name="severity" value="error"/>
            <property name="allowSingleLineStatement" value="true"/>
        </module>
        <module name="RightCurly">
            <property name="severity" value="error"/>
            <property name="option" value="same"/>
        </module>

        <!-- [Class Design] -->
        <module name="InterfaceIsType">
            <property name="severity" value="error"/>
        </module>
        <module name="VisibilityModifier">
            <property name="severity" value="error"/>
            <property name="allowPublicFinalFields" value="true"/>
            <property name="allowPublicImmutableFields" value="true"/>
        </module>

        <!-- [Coding] -->
        <module name="EmptyStatement">
            <property name="severity" value="error"/>
        </module>
        <module name="EqualsHashCode">
            <property name="severity" value="error"/>
        </module>
        <module name="HiddenField">
            <property name="severity" value="error"/>
            <property name="ignoreConstructorParameter" value="true"/>
            <property name="ignoreSetter" value="true"/>
        </module>
        <module name="InnerAssignment">
            <property name="severity" value="error"/>
        </module>
        <module name="MissingSwitchDefault">
            <property name="severity" value="error"/>
        </module>
        <module name="NoFinalizer">
            <property name="severity" value="error"/>
        </module>
        <module name="OneStatementPerLine">
            <property name="severity" value="error"/>
        </module>
        <module name="SimplifyBooleanExpression">
            <property name="severity" value="error"/>
        </module>
        <module name="SimplifyBooleanReturn">
            <property name="severity" value="error"/>
        </module>

        <!-- [Imports] -->
        <module name="AvoidStarImport">
            <property name="severity" value="error"/>
        </module>
        <module name="IllegalImport">
            <property name="severity" value="error"/>
            <property name="illegalPkgs" value="sun"/>
        </module>
        <module name="RedundantImport">
            <property name="severity" value="error"/>
        </module>
        <module name="UnusedImports">
            <property name="severity" value="error"/>
            <property name="processJavadoc" value="true"/>
        </module>

        <!-- [Miscellaneous] -->
        <module name="ArrayTypeStyle">
            <property name="severity" value="error"/>
        </module>
        <module name="TodoComment">
            <property name="severity" value="info"/>
            <property name="format" value="(TODO)|(todo:)|(FIXME)|(fixme)"/>
        </module>
        <module name="UpperEll">
            <property name="severity" value="error"/>
        </module>

        <!-- [Modifiers] -->
        <module name="ModifierOrder">
            <property name="severity" value="error"/>
        </module>
        <module name="RedundantModifier">
            <property name="severity" value="error"/>
        </module>

        <!-- [Naming Conventions] - Relaxed for C interop -->
        <module name="ConstantName">
            <property name="severity" value="error"/>
            <property name="format" value="^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$"/>
        </module>
        <module name="LocalFinalVariableName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="LocalVariableName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="MemberName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="MethodName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
        </module>
        <module name="PackageName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z]+(\\.[a-z][a-zA-Z0-9]*)*$"/>
        </module>
        <module name="ParameterName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="StaticVariableName">
            <property name="severity" value="error"/>
            <property name="format" value="^[a-z][a-zA-Z0-9_]*$"/>
        </module>
        <module name="TypeName">
            <property name="severity" value="error"/>
            <property name="format" value="^[A-Z][a-zA-Z0-9_]*$"/>
        </module>

        <!-- [Size Violations] -->
        <module name="MethodLength">
            <property name="severity" value="error"/>
            <property name="max" value="150"/>
        </module>
        <module name="ParameterNumber">
            <property name="severity" value="info"/>
            <property name="max" value="4"/>
        </module>

        <!-- [Whitespace] -->
        <module name="EmptyForIteratorPad">
            <property name="severity" value="error"/>
            <property name="option" value="nospace"/>
        </module>
        <module name="GenericWhitespace">
            <property name="severity" value="error"/>
        </module>
        <module name="MethodParamPad">
            <property name="severity" value="error"/>
            <property name="option" value="nospace"/>
        </module>
        <module name="NoWhitespaceAfter">
            <property name="severity" value="error"/>
            <property name="allowLineBreaks" value="true"/>
        </module>
        <module name="NoWhitespaceBefore">
            <property name="severity" value="error"/>
        </module>
        <module name="ParenPad">
            <property name="severity" value="error"/>
            <property name="option" value="nospace"/>
        </module>
        <module name="TypecastParenPad">
            <property name="severity" value="error"/>
            <property name="option" value="nospace"/>
        </module>
        <module name="WhitespaceAfter">
            <property name="severity" value="error"/>
        </module>
        <module name="WhitespaceAround">
            <property name="severity" value="error"/>
            <property name="allowEmptyConstructors" value="true"/>
            <property name="allowEmptyMethods" value="true"/>
            <property name="allowEmptyTypes" value="true"/>
            <property name="allowEmptyLoops" value="true"/>
            <property name="allowEmptyLambdas" value="true"/>
            <property name="allowEmptyCatches" value="true"/>
        </module>

        <module name="SuppressionCommentFilter">
            <property name="offCommentFormat" value="CHECKSTYLE\\:SUPPRESS\\:([\\w\\|]+)"/>
            <property name="onCommentFormat" value="CHECKSTYLE\\:UNSUPPRESS\\:([\\w\\|]+)$"/>
            <property name="checkFormat" value="$1"/>
        </module>
    </module>
</module>